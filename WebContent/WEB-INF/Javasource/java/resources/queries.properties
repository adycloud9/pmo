# 
# This Class contains all queries
 
# Name: queries.properties
# <p> 
# <b>Revision History:</b><pre> 
# ======================================================================================== 
#                            
# Date              By                  Version          Description 
# ----------    -------------------     -------      ---------------------------------------------------- 
# 
# 
#======================================================================================== 
# </pre> 
# 
# @author   Tata Consultancy Services 
#
#-- Queries to be placed in this file --#

PO.getWONList = select w.wonNo, w.wonNo from sow s,won w where TRIM(UPPER(sowName)) like TRIM(UPPER(?)) and s.sowId=w.sow_ID
PO.getPOList = select poNo, poNo from won w,po p where w.wonNo like TRIM(?) and w.wonId=p.won_id and p.sow_id =(select sowId from sow where sowName like UPPER(TRIM(?)))
PO.getPODetails=select DATE_FORMAT(p.po_start_date, '%d-%b-%Y'),DATE_FORMAT(p.po_end_date, '%d-%b-%Y'),DATE_FORMAT(p.po_date, '%d-%b-%Y')from po p where (TRIM(UPPER(p.poNo)))=(TRIM(UPPER(?)));
poQuery=select poNo, poNo from won w,po p where w.wonNo=TRIM(?)and w.wonId=p.won_id
Po.getDownloadFile=select p.po_FilePath from po p where p.sow_Id=(select s.sowId from sow s where TRIM(UPPER(s.sowName)) like TRIM(UPPER(?))) and p.poNo=(?)
po.BilledPONumbers=select count(w.po_Id) from wcrs w ,po p where w.po_Id= p.poId and p.poNo=?;
#WCR.getWcrDetails=select a.mileStoneName,a.mileStoneAmount,a.milestoneRemark,a.milestoneDt,a.bill_status,a.invoiceNumber,a.milestoneId FROM(select m.milestoneId, m.mileStoneName, m.mileStoneAmount, m.milestoneRemark, date_format(m.milestoneDate, '%d-%b-%Y') milestoneDt,'U' bill_status,'null' invoiceNumber from milestone m where m.sow_Id = (select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and m.archiveLevel = (Select max(archiveLevel) from milestone where sowName like TRIM(UPPER(?))) and m.mileStoneName not in(select mileStoneName from wcrs where sow_Id = (select sow_Id from po where TRIM(UPPER(poNo)) = TRIM(UPPER(?))))union select m.milestoneId, m.mileStoneName, m.mileStoneAmount, m.milestoneRemark,date_format(m.milestoneDate, '%d-%b-%Y') milestoneDt, w.bill_status bill_status,'null' invoiceNumber from milestone m, wcrs w where w.sow_Id = (select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and m.sow_Id = (select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and w.mileStoneName = m.mileStoneName and w.bill_status = 'WIP' and w.po_Id = (select poId from po where TRIM(UPPER(poNo)) = TRIM(UPPER(?))) and m.archiveLevel = (Select max(archiveLevel)from milestone where sowName like TRIM(UPPER(?)))union select m.milestoneId, m.mileStoneName, m.mileStoneAmount, m.milestoneRemark,date_format(m.milestoneDate, '%d-%b-%Y') milestoneDt, w.bill_status bill_status, w.invoiceNumber invoiceNumber from milestone m, wcrs w where w.sow_Id =(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and m.sow_Id =(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and w.mileStoneName = m.mileStoneName and w.bill_status = 'B' and w.po_Id =(select poId from po where TRIM(UPPER(poNo)) = TRIM(UPPER(?))) and m.archiveLevel =(Select max(archiveLevel) from milestone where sowName like TRIM(UPPER(?)))) a order by a.milestoneId
 WCR.getWcrDetails= select a.mileStoneName,a.mileStoneAmount,a.milestoneRemark,  a.milestoneDt,        a.bill_status,        a.invoiceNumber,        a.milestoneId   FROM (select m.milestoneId,                m.mileStoneName,                m.mileStoneAmount,                m.milestoneRemark,                date_format(m.milestoneDate, '%d-%b-%Y') milestoneDt,                'U' bill_status,                'null' invoiceNumber           from milestone m          where m.sow_Id =                (select sowId                   from sow                  where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and                m.archiveLevel =                (Select max(archiveLevel)                   from milestone                  where sowName like TRIM(UPPER(?))) and                m.mileStoneName not in                (select mileStoneName                   from wcrs                  where sow_Id =                        (select sow_Id                           from po                          where TRIM(UPPER(poNo)) = TRIM(UPPER(?)) and                                sow_id =                                (select s.sowid                                   from sow s                                  where s.sowname = UPPER(TRIM(?)))))         union         select m.milestoneId,                m.mileStoneName,                m.mileStoneAmount,                m.milestoneRemark,                date_format(m.milestoneDate, '%d-%b-%Y') milestoneDt,                w.bill_status bill_status,                'null' invoiceNumber           from milestone m, wcrs w          where w.sow_Id =                (select sowId                   from sow                  where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and                m.sow_Id =                (select sowId                   from sow                  where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and                w.mileStoneName = m.mileStoneName and w.bill_status = 'WIP' and                w.po_Id =                (select poId from po where TRIM(UPPER(poNo)) = TRIM(UPPER(?)) and sow_id =                                (select s.sowid                                   from sow s                                  where s.sowname = UPPER(TRIM(?)))) and                m.archiveLevel =                (Select max(archiveLevel)                   from milestone                  where sowName like TRIM(UPPER(?)))         union         select m.milestoneId,                m.mileStoneName,                m.mileStoneAmount,                m.milestoneRemark,                date_format(m.milestoneDate, '%d-%b-%Y') milestoneDt,                w.bill_status bill_status,                w.invoiceNumber invoiceNumber           from milestone m, wcrs w          where w.sow_Id =                (select sowId                   from sow                  where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and                m.sow_Id =                (select sowId                   from sow                  where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and                w.mileStoneName = m.mileStoneName and w.bill_status = 'B' and                w.po_Id =                (select poId from po where TRIM(UPPER(poNo)) = TRIM(UPPER(?)) and sow_id =                                (select s.sowid                                   from sow s                                  where s.sowname = UPPER(TRIM(?)))) and                m.archiveLevel =                (Select max(archiveLevel)                   from milestone                  where sowName like TRIM(UPPER(?)))) a  order by a.milestoneId
#WCR.getWcrDetails=select m.mileStoneName,m.mileStoneAmount,m.milestoneRemark,date_format(m.milestoneDate,'%d-%b-%Y') milestoneDt,'U' bill_status from milestone m where m.sow_Id=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and m.archiveLevel=(Select max(archiveLevel) from milestone where sowName like TRIM(UPPER(?))) and m.mileStoneName not in (select mileStoneName from wcrs where sow_Id=(select sow_Id from po where TRIM(UPPER(poNo)) = TRIM(UPPER(?)))) union select m.mileStoneName,m.mileStoneAmount,m.milestoneRemark,date_format(m.milestoneDate,'%d-%b-%Y'),w.bill_status from milestone m,wcrs w where w.sow_Id=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and m.sow_Id=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and w.mileStoneName=m.mileStoneName and w.bill_status='WIP' and w.po_Id=(select poId from po where TRIM(UPPER(poNo)) = TRIM(UPPER(?))) and m.archiveLevel=(Select max(archiveLevel) from milestone where sowName like TRIM(UPPER(?))) 
WCR.getWcrDetailsForEdit=select m.mileStoneName,m.mileStoneAmount,m.milestoneRemark,date_format(m.milestoneDate,'%d-%b-%Y') milestoneDt,'U' bill_status from milestone m where m.sow_Id=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and m.archiveLevel=(Select max(archiveLevel) from milestone where sowName like TRIM(UPPER(?))) and m.mileStoneName not in (select mileStoneName from wcrs where sow_Id=(select sow_Id from po where TRIM(UPPER(poNo)) = TRIM(UPPER(?)))) union select m.mileStoneName,m.mileStoneAmount,m.milestoneRemark,date_format(m.milestoneDate,'%d-%b-%Y'),w.bill_status from milestone m,wcrs w where w.sow_Id=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and m.sow_Id=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and w.mileStoneName=m.mileStoneName and w.bill_status='WIP' and TRIM(UPPER(w.refId))=TRIM(UPPER(?)) and w.po_Id=(select poId from po where TRIM(UPPER(poNo)) = TRIM(UPPER(?))) and m.archiveLevel=(Select max(archiveLevel) from milestone where sowName like TRIM(UPPER(?)))
WCR.getBU=select list_values from pmo_lookup where Reference_Name like 'Business Unit'
WCR.BuList =select list_values from pmo_lookup where Reference_Name like 'Business Unit'
WCR.AppList=select list_values,list_values from pmo_lookup where Reference_Name like 'Approving authority'
WCR.AuthList=select list_values,list_values from pmo_lookup where Reference_Name like 'Authoriser'
WCR.PrepList=select concat(concat(firstName,' '),lastName) f ,concat(concat(firstName,' '),lastName) f from emp_detail where role='PM'
WCR.getBillStatus=select list_values,designation from pmo_lookup where TRIM(UPPER(Reference_Name))=TRIM(UPPER('Billing Status'))
WCR.getAuthAndDesignation=select s.manager Authority,lr.description designation from sow s,emp_detail e,lookup_role lr where s.sowName like TRIM(UPPER(?)) and TRIM(UPPER(concat(concat(firstName,' '),lastName))) like TRIM(UPPER(manager))  and e.role=lr.role_Id union select s.approvingAuthority Authority,p.designation designation from sow s,pmo_lookup p where TRIM(UPPER(s.sowName))like TRIM(UPPER(?)) and TRIM(UPPER(p.list_values)) like (select approvingAuthority from sow where TRIM(UPPER(sowName))like TRIM(UPPER(?))) union  select s.authoriser Authority,p.designation designation from sow s,pmo_lookup p where TRIM(UPPER(s.sowName)) like TRIM(UPPER(?)) and TRIM(UPPER(p.list_values)) like (select authoriser from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) 
WCR.getAuthAndDesignationForEdit=select w.prepared_By,lr.description designation from emp_detail e,lookup_role lr,wcrs w,sow where w.refId=TRIM(UPPER(?)) and TRIM(UPPER(concat(concat(firstName,' '),lastName))) like TRIM(UPPER(manager))  and e.role=lr.role_Id union select w.approved_By Authority,p.designation designation from wcrs w,pmo_lookup p where w.refId=TRIM(UPPER(?)) and TRIM(UPPER(p.list_values)) like (select distinct approved_By from wcrs where TRIM(UPPER(refId))like TRIM(UPPER(?))) union  select w.authorized_By,p.designation designation from wcrs w,pmo_lookup p where w.refId=TRIM(UPPER(?)) and TRIM(UPPER(p.list_values)) like (select distinct authorized_By from wcrs where TRIM(UPPER(refId))like TRIM(UPPER(?))) 
WCR.getWcrRefIds=select distinct refId, refId from wcrs where po_Id=(select poId from po where sow_Id=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and TRIM(UPPER(poNo))=TRIM(UPPER(?)))
WCR.generateWcrID=select ifnull(max(refId)+1,1) m from wcrs
WCR.getApproverDesig=select designation,designation from pmo_lookup where Reference_Name='Approving authority' and TRIM(UPPER(list_values)) like TRIM(UPPER(?)) 
WCR.getAuthoriserDesig=select designation,designation from pmo_lookup where Reference_Name='Authoriser' and TRIM(UPPER(list_values)) like TRIM(UPPER(?))
WCR.getWcrDetails_sow=select distinct s.sowName,w.wonNo,p.poNo,wc.refid from sow s,won w,po p,wcrs wc where TRIM(UPPER(s.sowId)) =(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and TRIM(UPPER(w.wonId))=(select wonId from won where sow_Id=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?)))) and TRIM(UPPER(p.sow_Id))=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and TRIM(UPPER(wc.sow_Id))=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and wc.po_id = p.poid  
WCR.getWcrDetails_sowWon=select distinct s.sowName,w.wonNo,p.poNo,wc.refid from sow s,won w,po p,wcrs wc where TRIM(UPPER(s.sowId)) =(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and TRIM(UPPER(w.wonId))=(select wonId from won wn where TRIM(UPPER(wonNo))= TRIM(UPPER(?)) and wn.sow_id=(select sowid from sow where sowName = TRIM(UPPER(?)) )) and TRIM(UPPER(p.sow_Id))=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?)))  and TRIM(UPPER(wc.sow_Id))=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and wc.po_id = p.poid 
WCR.getWcrDetails_sowWonPo=select distinct s.sowName,w.wonNo,p.poNo,wc.refid from sow s,won w,po p,wcrs wc  where TRIM(UPPER(s.sowId)) =(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and TRIM(UPPER(w.wonId))=(select wonId from won w where TRIM(UPPER(wonNo))=UPPER(TRIM(?)) and w.sow_id=(select sow_id from won where sow_Id=(select sowId from sow where sowName=UPPER(TRIM(?)))))and TRIM(UPPER(p.poId))=(select poId from po where TRIM(UPPER(poNo)) like TRIM(UPPER(?))and sow_id=(select sowid from sow where sowName=UPPER(TRIM(?)))) and TRIM(UPPER(wc.sow_Id))=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?)))and wc.po_id = p.poid      
WCR.getWcrDetails_sowWonPoForInvoice=select distinct s.sowName,w.wonNo,p.poNo,wc.refid,wc.invoiceNumber from sow s,won w,po p,wcrs wc where TRIM(UPPER(s.sowId)) =(select sowId from sow where TRIM(UPPER(sowName))  like TRIM(UPPER(?))) and TRIM(UPPER(w.wonId))=(select wonId from won w where TRIM(UPPER(wonNo))= TRIM(UPPER(?))and w.sow_id=(select sow_id from won where sow_Id=(select sowId from sow where sowName=UPPER(TRIM(?)))))and TRIM(UPPER(p.poId))=(select poId from po where TRIM(UPPER(poNo)) like TRIM(UPPER(?)) and sow_id=(select sow_id from won where sow_Id=(select sowId from sow where sowName=UPPER(TRIM(?))))) and TRIM(UPPER(wc.sow_Id))=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and wc.po_id = p.poid  and wc.invoiceNumber is null 
WCR.getWcrDetails_sowWonPoForEditInvoice=select distinct s.sowName,w.wonNo,p.poNo,wc.refid,wc.invoiceNumber from sow s,won w,po p,wcrs wc where TRIM(UPPER(s.sowId)) =(select sowId from sow where TRIM(UPPER(sowName))  like TRIM(UPPER(?))) and TRIM(UPPER(w.wonId))=(select wonId from won w where TRIM(UPPER(wonNo))= TRIM(UPPER(?))and w.sow_id=(select sow_id from won where sow_Id=(select sowId from sow where sowName=UPPER(TRIM(?)))))and TRIM(UPPER(p.poId))=(select poId from po where TRIM(UPPER(poNo)) like TRIM(UPPER(?)) and sow_id=(select sow_id from won where sow_Id=(select sowId from sow where sowName=UPPER(TRIM(?))))) and TRIM(UPPER(wc.sow_Id))=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and wc.po_id = p.poid  and wc.invoiceNumber is not null  
WCR.getMileStoneDtlsforPreview=select m.mileStoneName,        m.mileStoneAmount,        m.milestoneRemark,        m.milestoneDate,        w.bill_status,        w.from_date,        w.to_date   from milestone m, wcrs w  where w.sow_Id =        (select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and        m.sow_Id =        (select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and        w.mileStoneName = m.mileStoneName and w.bill_status = 'WIP' and        w.refId = ? and        w.won_Id =        (select wonId           from won w          where TRIM(UPPER(wonNo)) = TRIM(UPPER(?)) and                w.sow_id =                (select sow_Id                   from won                  where sow_id =                        (select sowid from sow where sowName like (?)))) and        w.po_Id =        (select poId from po where TRIM(UPPER(poNo)) = TRIM(UPPER(?)) and sow_id =                        (select sowid from sow where sowName like (?))) and        m.archiveLevel =        (Select max(archiveLevel)           from milestone          where sowName like TRIM(UPPER(?))) union select m.mileStoneName,        m.mileStoneAmount,        m.milestoneRemark,        m.milestoneDate,        w.bill_status,        w.from_date,        w.to_date   from milestone m, wcrs w  where w.sow_Id =        (select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and        m.sow_Id =        (select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and        w.mileStoneName = m.mileStoneName and w.bill_status = 'B' and        w.refId = ? and        w.won_Id =        (select wonId           from won w          where TRIM(UPPER(wonNo)) = TRIM(UPPER(?)) and                w.sow_id =                (select sow_Id                   from won                  where sow_id = (select sowid from sow where sowName like (?)))) and w.po_Id =(select poId from po where TRIM(UPPER(poNo)) = TRIM(UPPER(?)) and sow_id =                        (select sowid from sow where sowName like (?))) and        m.archiveLevel =        (Select max(archiveLevel) from milestone  where sowName like TRIM(UPPER(?)))  
wonQuery=select w.wonNo, w.wonNo from sow s,won w where TRIM(UPPER(sowName)) like TRIM(UPPER(?)) and s.sowId=w.sow_ID


getFirstName= select empId,firstName,lastName from emp_detail where TRIM(UPPER(firstName)) like TRIM(UPPER(?)) and flag='Y'
getLastName= select empId,firstName,lastName from emp_detail where TRIM(UPPER(lastName)) like TRIM(UPPER(?)) and flag='Y'
getemail= select email from emp_detail where TRIM(UPPER(email)) like TRIM(UPPER(?)) and flag='Y'
getEmployeeID= select empId,firstName,lastName from emp_detail where TRIM(UPPER(empId)) like TRIM(UPPER(?)) and flag='Y'
getDropDownQuery=select role_Id from lookup_role
getSearchList=select empId,firstName,lastName,email,role from emp_detail where (TRIM(UPPER(empId)))LIKE IFNULL(TRIM(Upper(?)),'%')and (TRIM(UPPER(firstName)))like IFNULL(TRIM(UPPER(?)),'%')and(TRIM(UPPER(lastName)))like IFNULL(TRIM(UPPER(?)),'%')and (TRIM(UPPER(email))) like  IFNULL(TRIM(UPPER(?)),'%')and (TRIM(UPPER(role))) like IFNULL(TRIM(UPPER(?)),'%')and flag='Y'
checkEmailAddr=select count(*) from emp_detail where TRIM(UPPER(email)) like TRIM(UPPER(?))and flag ='Y'
#getEmpidFromEmail=select e.empId from emp_detail e where TRIM(UPPER(email)) like TRIM(UPPER(?))
getEmpidFromEmail=select ed.empId from emp_detail ed where TRIM(UPPER(email)) like TRIM(UPPER(?))and flag ='Y'
reports.getWONDetails=select s.sowId, s.sowName,s.prepareBy from sow  s where s.sowId not in (select w.sow_ID from won w)
reports.getPODetails=select s.sowId, s.sowName,s.prepareBy from sow  s , won w where s.sowId  not in (select p.sow_ID from po p) and s.sowID=w.sow_Id
reports.getwithoutWCR=select sow.sowName, sow.sowDate, sow.prepareBy,milestone.mileStoneName, milestone.milestoneDate, milestone.mileStoneAmount from sow inner join milestone on sow.sowId = milestone.sow_Id and milestone.archiveLevel = (select max(archiveLevel) from milestone m3 where m3.sow_Id = sow.sowId)where milestone.mileStoneId not in (select m1.mileStoneId from sow inner join milestone m1 on sow.sowId = m1.sow_Id and m1.archiveLevel = (select max(archiveLevel) from milestone m2 where m2.sow_Id = sow.sowId) inner join po on sow.sowId = po.sow_Id inner join wcrs on po.poId = wcrs.po_Id and m1.mileStoneName = wcrs.mileStoneName)or milestone.mileStoneId in(select m1.mileStoneId from sow inner join milestone m1 on sow.sowId = m1.sow_Id and m1.archiveLevel = (select max(archiveLevel) from milestone m2 where m2.sow_Id = sow.sowId)inner join po on sow.sowId = po.sow_Id inner join wcrs on po.poId = wcrs.po_Id and m1.mileStoneName = wcrs.mileStoneName and wcrs.bill_Status not in ('B' ,'WIP'))
reports.getwithWCR_unBilled=select sow.sowName,sow.sowDate,won.wonNo,po.poNo,wcrs.mileStoneName,wcrs.mileStoneAmount,wcrs.prepared_By,wcrs.refId from wcrs,sow,po,won where sow.sowId=wcrs.sow_Id and wcrs.won_Id=won.wonId and wcrs.po_Id=po.poId and bill_Status='WIP'
login.resetPassword=update emp_detail set passsword=md5('pass') where empId=?
Wcr.billedQuery=update wcrs set invoiceNumber=?,bill_status='B'where sow_id=(select sowid from sow where UPPER(TRIM(sowName)) like UPPER(TRIM(?)))and refId=?;
pmo.getRoleDropDown=select list_values from reportlookup where trim(REFERENCE_NAME) = trim(?)

#sib ver starts here
getSowNameVersion=select sowName,sowVersion from sow where trim(upper(sowName)) like trim(upper(?))
getSowDetails=select s.prepareBy,s.manager,s.sowType,date_format(s.sowDate,'%d-%b-%Y'),s.Sow_File_Path,s.approvingAuthority,s.It_Pm,s.authoriser,s.sowRemark,s.sowAmount from sow s where TRIM(UPPER(s.sowName))=TRIM(UPPER(?)) and TRIM(UPPER(s.sowVersion))=TRIM(UPPER(?))
getMilestoneDetails=select m.mileStoneName,m.mileStoneAmount,m.milestoneRemark,DATE_FORMAT(m.milestoneDate,'%d-%b-%Y') from milestone m where m.sowName=TRIM(UPPER(?)) and m.archiveLevel=(Select max(archiveLevel) from milestone where sowName=TRIM(UPPER(?)))
getSowType=select list_values from reportlookup where trim(REFERENCE_NAME) = trim(?)
getProgramMgr=select concat(concat(firstname,' '),lastname) from emp_detail where role = 'PM'
getApprovingAuthorityQuery=select list_values from pmo_lookup where trim(REFERENCE_NAME) = trim(?)
getITPMQuery=select list_values from pmo_lookup where trim(REFERENCE_NAME) = trim(?)
getAuthoriserQuery=select list_values from pmo_lookup where trim(REFERENCE_NAME) = trim(?)
getMilestoneBilledDetails=select m.mileStoneName,m.mileStoneAmount,m.milestoneRemark,m.milestoneDate,'U' bill_status from milestone m where m.sow_Id=(select sowId from sow where TRIM(UPPER(sowname)) like TRIM(UPPER(?))) and m.archiveLevel=(Select max(archiveLevel) from milestone where sowName like TRIM(UPPER(?))) and m.mileStoneName not in (select mileStoneName from wcrs where sow_Id=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?)))) union select  m.mileStoneName,m.mileStoneAmount,m.milestoneRemark,m.milestoneDate,w.bill_status from milestone m,wcrs w where w.sow_Id=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and m.sow_Id=(select sowId from sow where TRIM(UPPER(sowName)) like TRIM(UPPER(?)))and w.mileStoneName=m.mileStoneName and w.bill_status='WIP' and m.archiveLevel=(Select max(archiveLevel) from milestone where sowName like TRIM(UPPER(?)));
getSowName=select count(*) from sow s where trim(upper(s.sowName)) like trim(upper(?))
getReportType=select list_values from reportlookup where trim(REFERENCE_NAME) = trim(?)
getWcrMilestoneDetails=select miledetail.refid,        miledetail.milestoneId,        miledetail.mileStoneName,        miledetail.mileStoneAmount,        miledetail.milestoneRemark,        miledetail.milestoneDt,        miledetail.bill_status,        miledetail.invoiceNumber   FROM (select 'null' refid,                m.milestoneId,                m.mileStoneName,                m.mileStoneAmount,                m.milestoneRemark,                date_format(m.milestoneDate, '%d-%b-%Y') milestoneDt,                'U' bill_status,                'null' invoiceNumber           from milestone m          where m.sow_Id =                (select sowId                   from sow                  where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and                m.archiveLevel =                (Select max(archiveLevel)                   from milestone                  where sowName like TRIM(UPPER(?))) and                m.mileStoneName not in                (select mileStoneName                   from wcrs                  where sow_Id =                        (select sow_Id                           from po                          where TRIM(UPPER(poNo)) = TRIM(UPPER(?)) and  sow_id=(select sowid from sow where sowname like (?) )))         union         select w.refid refId,                m.milestoneId,                m.mileStoneName,                m.mileStoneAmount,                m.milestoneRemark,                date_format(m.milestoneDate, '%d-%b-%Y') milestoneDt,                w.bill_status bill_status,                'null' invoiceNumber           from milestone m, wcrs w          where w.sow_Id =                (select sowId                   from sow                  where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and                m.sow_Id =                (select sowId                   from sow                  where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and                w.mileStoneName = m.mileStoneName and w.bill_status = 'WIP' and                w.po_Id =                (select poId from po where TRIM(UPPER(poNo)) = TRIM(UPPER(?))and  sow_id=(select sowid from sow where sowname like (?) )) and                m.archiveLevel =                (Select max(archiveLevel)                   from milestone                  where sowName like TRIM(UPPER(?)))) miledetail  order by miledetail.refid, miledetail.milestoneId
getWcrRefIdDetails=select b.refid, count(*)   from (select miledetail.refid           refid,                miledetail.milestoneId     milestoneId,                miledetail.mileStoneName   mileStoneName,                miledetail.mileStoneAmount mileStoneAmount,                miledetail.milestoneRemark milestoneRemark,                miledetail.milestoneDt     milestoneDt,                miledetail.bill_status     bill_status,                miledetail.invoiceNumber   invoiceNumber           FROM (select 'null' refid,                        m.milestoneId,                        m.mileStoneName,                        m.mileStoneAmount,                        m.milestoneRemark,                        date_format(m.milestoneDate, '%d-%b-%Y') milestoneDt,                        'U' bill_status,                        'null' invoiceNumber                   from milestone m                  where m.sow_Id =                        (select sowId                           from sow                          where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and                        m.archiveLevel =                        (Select max(archiveLevel)                           from milestone                          where sowName like TRIM(UPPER(?))) and                        m.mileStoneName not in                        (select mileStoneName                           from wcrs                          where sow_Id =                                (select sow_Id                                   from po                                  where TRIM(UPPER(poNo)) = TRIM(UPPER(?))  and  sow_id=(select sowid from sow where sowname like (?) )))                 union                 select w.refid refId,                        m.milestoneId,                        m.mileStoneName,                        m.mileStoneAmount,                        m.milestoneRemark,                        date_format(m.milestoneDate, '%d-%b-%Y') milestoneDt,                        w.bill_status bill_status,                        'null' invoiceNumber                   from milestone m, wcrs w                  where w.sow_Id =                        (select sowId                           from sow                          where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and                        m.sow_Id =                        (select sowId                           from sow                          where TRIM(UPPER(sowName)) like TRIM(UPPER(?))) and                        w.mileStoneName = m.mileStoneName and                        w.bill_status = 'WIP' and                        w.po_Id =                        (select poId                           from po                          where TRIM(UPPER(poNo)) = TRIM(UPPER(?)) and  sow_id=(select sowid from sow where sowname like (?) )) and                        m.archiveLevel =                        (Select max(archiveLevel)                           from milestone                          where sowName like TRIM(UPPER(?)))) miledetail          order by miledetail.refid, miledetail.milestoneId) b  group by b.refid
getNameFromEmpId=select CONCAT(emp_detail.firstName," ",emp_detail.lastName) name from emp_detail where emp_detail.empId=?
getApprovingDetails=select sow.manager,sow.approvingAuthority,sow.authoriser from sow where trim(upper(sow.sowName)) like trim(upper(?))
 #sib ver ends here